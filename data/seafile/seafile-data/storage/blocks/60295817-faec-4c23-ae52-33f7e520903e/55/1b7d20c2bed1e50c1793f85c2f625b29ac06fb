data "rancher2_role_template" "rancher_role_template" {
  for_each = {
    for item in flatten([
      for project_name, project_detail in var.projects_info : [
        for user_name, role_template_name in(project_detail.role_template_binding != null ? project_detail.role_template_binding : {}) : {
          key                = role_template_name
          role_template_name = role_template_name
        }
      ]
    ]) : item.key => item
  }

  name = each.value.role_template_name
}