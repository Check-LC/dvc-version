resource "authentik_group" "groups_level1" {
  for_each = {
    for item in flatten([
      for group_name, group_detail in var.groups_info.level1 : [
        {
          key    = group_name
          parent = ""
        }
      ]
    ]) : item.key => item
  }

  name   = each.key
  parent = each.value.parent
}